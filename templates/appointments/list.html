<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-8">
        <h2>Appointments</h2>
        <ol class="breadcrumb">
	        <li>
	            <a href="#/appointments">List</a>
	        </li>
	    </ol>
    </div>
    <div class="title-action" ifcan="create appointments">
        <a class="btn btn-white" ng-click="redirectToCreateAppointment();"><i class="fa fa-plus "></i> Create </a>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight ecommerce" ifcan="see appointments list">
    <div>
        <div class="col-md-3 white-bg box-top-border p-10 saerch-form">            
            <div class="col-md-12">
                <div class="form-group">
                    <label>Branch</label>
					<select id="selected_branch" class="input-sm form-control" ng-model="searchForm.branch_id" ng-options="branch.id as branch.description for branch in appointmentPreData.branches"><option value=""></option></select>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label>Product</label>
					<select id="selected_product" class="input-sm form-control" ng-model="searchForm.product_id" ng-options="product.id as product.description for product in appointmentPreData.products"><option value=""></option></select>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label>Inurance Company</label>
					<select id="selected_insurance_company" class="input-sm form-control" ng-model="searchForm.insurance_company_id" ng-options="insurance_company.id as insurance_company.name for insurance_company in appointmentPreData.insurance_companies"><option value=""> </option></select>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label>Vehicle</label>
					<select id="selected_vehicle" class="input-sm form-control" ng-model="searchForm.vehicle_id" ng-options="vehicle.id as (vehicle.make_and_model+' ('+vehicle.registration+')') for vehicle in appointmentPreData.vehicles"><option value=""></option></select>
                </div>
            </div>            
            <div class="col-md-12 no-padding">
                <div class="col-md-12">
                    <button class="btn btn-white btn-sm pull-right" ng-click="searchAppointments(1);">Search</button>
                    <button class="btn btn-white btn-sm pull-right" ng-click="resetForm()" style="margin-right: 30px">Reset</button>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="ibox  box-top-border">
                <div class="ibox-content">
                	<table class="table table-striped table-hover">
						<thead>
							<th>Id</th>
							<th>Branch</th>
							<th>Product</th>
							<th>Insurance Company</th>
							<th>Vehicle</th>
                            <th>Status</th>
							<th>Action</th>
						</thead>
						<tbody>
							<tr ng-repeat="a in appointments " total-items="totalItems" current-page="currentPage">
								<td>{{ a.id }}</td>
								<td>{{ a.branch.description }}</td>
								<td>{{ a.product.description }}</td>
								<td>{{ a.insurance_company.name }}</td>
								<td>{{ a.vehicle_info }}</td>
                                <td>{{ a.status }}</td>
								<td><a ng-href="#/appointments/{{ a.id }}/details"><i class="fa fa-edit"></i></a></td>
							</tr>
						</tbody>
					</table>
                </div>
            </div>
        </div>
    </div>
</div>
