<hr />
<div class="col-md-5 right-box">
<div class="col-md-12 alert alert-danger" ng-show="errors != ''">{{ errors }}</div> 
<div class="col-md-12 alert alert-success" ng-show="success != ''">{{ success }}</div> 		
	<form id="addDriverForm" class="form-horizontal" role="form" ng-submit="sendUser(user)">	
		<div class="form-group">
			<div class="col-md-12">
				<label>User role:</label>
				<select id="selected_role" class="form-control" ng-model="user.role" ng-options="role as role.description for role in roles" ng-change="changeRole()"></select>
			</div>
		</div>
		<div class="form-group">
			<div class="col-md-6">	
				<input type="checkbox" name="onTrip" ng-model="user.on_trip"><label>On Trip</label>
			</div>
		</div>
		<div class="form-group">
			<div class="col-md-6">
				<label>First name:</label>
				<input type="text" class="form-control" ng-model="user.first_name" required>
			</div>
			<div class="col-md-6">
				<label>Last name:</label>
				<input type="text" class="form-control" ng-model="user.last_name" required>
			</div>				
		</div>
		<div class="form-group">
			<div class="col-sm-12">
				<label>Phone:</label>
				<input type="text" only-digits class="form-control" ng-model="user.phone">
			</div>
		</div>	
		<div class="form-group">
			<div class="col-sm-12">
				<hr />
				<label>Email:</label>
				<input type="email" class="form-control" ng-model="user.email" required>
			</div>
		</div>	
		<div class="form-group">
			<div class="col-sm-12">
				<label>Password:</label>
				<input type="password" class="form-control" ng-model="user.password" required>
			</div>
		</div>
		<div class="form-group">
			<div class="col-sm-12">
				<hr />
				<button type="submit" class="btn btn-primary pull-right">Create</button>
			</div>
		</div>
	</form>
</div>
<div class="col-md-4" ng-hide="!user.role">
	<div class="row">
		<label class="pull-left">Permissions:</label><br>
	</div>
	<div class="row">
		<div id="user_permissions_list" style="max-height: 400px; overflow: auto;" class="col-sm-6" >
			<div class="text-left" ng-repeat="p in user.role.permissions">
				<input type="checkbox" name="userPermissionsIds" ng-model="p.isChecked" ng-change="changeUserPermission(p);"> {{ p.description }}
			</div>
		</div>
		<div class="col-md-6">
			<div class="text-left" ng-repeat="p in user.permissions">
				- {{ p.description }}
			</div>
		</div>
	</div>
</div>