
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-8">
        <h2>Trips</h2>
        <ol class="breadcrumb">
          <li>
              <a href="#/trips">List</a>
          </li>
      </ol>
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight ecommerce">
    <div class="ibox float-e-margins">
        <div class="ibox-title search-title">
            <h5>Trips List</h5>       
            <div class="col-sm-4 pull-right no-padding">
                <div class="input-group">
                <input type="text" class="form-control" name='filter' datetime="dd-MM-yyyy" ng-model='filter' placeholder="Filter by id, driver, vehicle registration, dates, locations">
                <span class="input-group-btn">
                    <button ng-click="list()" type="button" class="btn btn-primary"><i class="fa fa-search"></i></button>
                </span>
            </div>
            </div>
        </div>
        <div class="ibox-content">
            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead>
                        <th>#</th>
                        <th>Driver</th>
                        <th>Vehicle</th>
                        <th>Start location</th>
                        <th>End location</th>
                        <th>Start mileage</th>
                        <th>End mileage</th>
                        <th>Mileage</th>
                        <th>Start date</th>
                        <th>End date</th>
                        <th>Time</th>
                        <th>Status</th>                        
                        <th>Action</th>
                    </thead>
                    <tr dir-paginate='t in trips | itemsPerPage: pageSize' total-items="totalTrips" current-page="currentPage">
                        <td>{{ t.id }}</td>
                        <td><a ng-href="#/drivers/{{ t.driver_id }}/currentPeriod">{{ t.first_name }} {{ t.last_name }}</a></td>
                        <td><a ng-href="#/vehicles/{{ t.vehicle_id }}/details">{{ t.vehicle_reg_number }}</a></td>
                        <td>{{ t.start_location }}</td>
                        <td>{{ t.end_location }}</td>
                        <td>{{ t.start_mileage }}</td>
                        <td>{{ t.end_mileage }}</td>
                        <td>{{ t.mileage }}</td>
                        <td>{{ t.start_date | utcdatetime }}</td>
                        <td>{{ t.end_date | utcdatetime }}</td>
                        <td>{{ dateDiff(t.start_date, t.end_date) }}</td>
                        <td>{{ t.status }}</td>                        
                        <td><a ng-href="#/trips/{{ t.id }}"><i class="fa fa-edit"></i></a></td>
                    </tr>
                </table>
            </div>
            <div class="text-center">
                <dir-pagination-controls boundary-links="true" on-page-change="list(newPageNumber)" template-url="/bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>
            </div>
        </div>
    </div>
</div>
